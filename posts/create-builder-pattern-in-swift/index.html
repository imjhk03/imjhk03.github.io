<!DOCTYPE html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="스위프트에서 빌더 패턴 구현해보기" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="최근에 회사에서 커스텀 해서 사용하는 뷰를 사용해야 하는 경우가 생겼는데, 정해진 규칙이 있고 다양하게 조립하여 뷰를 그릴 수 있다고 판단하여 builder pattern(이하 빌더 패턴)으로 만들어 구현해 보았다. 회사 직원들도 잘 만들었다고 했고, 직접 사용하면서 불편한 점이 없다고 해서 다행이라고 생각했다. 다른 부분에도 적용하여 만들어보고 싶어, 혼자 공부했던 것을 정리할 겸 글을 쓰게 되었다. 빌더 패턴이 무엇인지, 어떻게 만들어 사용하면 좋을지 소개하겠다." /><meta property="og:description" content="최근에 회사에서 커스텀 해서 사용하는 뷰를 사용해야 하는 경우가 생겼는데, 정해진 규칙이 있고 다양하게 조립하여 뷰를 그릴 수 있다고 판단하여 builder pattern(이하 빌더 패턴)으로 만들어 구현해 보았다. 회사 직원들도 잘 만들었다고 했고, 직접 사용하면서 불편한 점이 없다고 해서 다행이라고 생각했다. 다른 부분에도 적용하여 만들어보고 싶어, 혼자 공부했던 것을 정리할 겸 글을 쓰게 되었다. 빌더 패턴이 무엇인지, 어떻게 만들어 사용하면 좋을지 소개하겠다." /><link rel="canonical" href="https://imjhk03.github.io/posts/create-builder-pattern-in-swift/" /><meta property="og:url" content="https://imjhk03.github.io/posts/create-builder-pattern-in-swift/" /><meta property="og:site_name" content="Joohee Kim’s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-09-23T00:00:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="스위프트에서 빌더 패턴 구현해보기" /><meta name="twitter:site" content="@_jooheekim_" /><meta name="google-site-verification" content="google26638d8b728847ea.html" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-09-23T00:00:00+00:00","datePublished":"2021-09-23T00:00:00+00:00","description":"최근에 회사에서 커스텀 해서 사용하는 뷰를 사용해야 하는 경우가 생겼는데, 정해진 규칙이 있고 다양하게 조립하여 뷰를 그릴 수 있다고 판단하여 builder pattern(이하 빌더 패턴)으로 만들어 구현해 보았다. 회사 직원들도 잘 만들었다고 했고, 직접 사용하면서 불편한 점이 없다고 해서 다행이라고 생각했다. 다른 부분에도 적용하여 만들어보고 싶어, 혼자 공부했던 것을 정리할 겸 글을 쓰게 되었다. 빌더 패턴이 무엇인지, 어떻게 만들어 사용하면 좋을지 소개하겠다.","headline":"스위프트에서 빌더 패턴 구현해보기","mainEntityOfPage":{"@type":"WebPage","@id":"https://imjhk03.github.io/posts/create-builder-pattern-in-swift/"},"url":"https://imjhk03.github.io/posts/create-builder-pattern-in-swift/"}</script><title>스위프트에서 빌더 패턴 구현해보기 | Joohee Kim's Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Joohee Kim's Blog"><meta name="application-name" content="Joohee Kim's Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/avatar.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">Joohee Kim's Blog</a></div><div class="site-subtitle font-italic">Create something, craft well</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>홈</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>태그</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/glossary/" class="nav-link"> <i class="fa-fw fas fa-book-open ml-xl-3 mr-xl-3 unloaded"></i> <span>GLOSSARY</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>정보</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/imjhk03" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/_jooheekim_" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['imjhk03','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> 홈 </a> </span> <span>스위프트에서 빌더 패턴 구현해보기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>스위프트에서 빌더 패턴 구현해보기</h1><div class="post-meta text-muted"> <span> 게시 <em class="" data-ts="1632355200" data-df="YYYY/MM/DD" data-toggle="tooltip" data-placement="bottom"> 2021/09/23 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/username">Joohee Kim</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2811 단어"> <em>15 분</em>읽는 시간</span></div></div></div><div class="post-content"><p>최근에 회사에서 커스텀 해서 사용하는 뷰를 사용해야 하는 경우가 생겼는데, 정해진 규칙이 있고 다양하게 조립하여 뷰를 그릴 수 있다고 판단하여 builder pattern(이하 빌더 패턴)으로 만들어 구현해 보았다. 회사 직원들도 잘 만들었다고 했고, 직접 사용하면서 불편한 점이 없다고 해서 다행이라고 생각했다. 다른 부분에도 적용하여 만들어보고 싶어, 혼자 공부했던 것을 정리할 겸 글을 쓰게 되었다. 빌더 패턴이 무엇인지, 어떻게 만들어 사용하면 좋을지 소개하겠다.</p><h2 id="객체를-생성하다"><span class="mr-2">객체를 생성하다</span><a href="#객체를-생성하다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>빌더 패턴이란 객체를 생성할 때 사용하는 패턴으로, 자바에서 많이 사용한다. 복잡하게 많은 파라미터를 넣어 객체를 생성하지 않고, 차례대로 값을 넣으면서 객체를 생성하는 식의 구조다. 예를 들면, 아래와 같이 카드 형태의 뷰를 만든다고 해보자. 카드 형태의 뷰를 그리기 위해 타이틀과 모서리 반경, 색깔을 설정한다.</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">let</span> <span class="nv">cardView</span> <span class="o">=</span> <span class="kt">CardView</span><span class="p">()</span>
<span class="n">cardView</span><span class="o">.</span><span class="n">titleLabel</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">"New app update"</span>
<span class="n">cardView</span><span class="o">.</span><span class="n">contentView</span><span class="o">.</span><span class="n">cornerRadius</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">cardView</span><span class="o">.</span><span class="n">contentView</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">systemBlue</span>
</pre></table></code></div></div><p>카드 뷰를 직접 생성해서, 그리는데 필요한 부분들에 직접 값을 할당해서 사용하고 있다. 만약 뷰의 서브 뷰를 직접 접근하지 않고 싶다면, configure 함수를 만들어서 사용할 수 있다. 이제 여기서 서브타이틀이 필요하고 이미지가 필요하다면, 각 서브 뷰들을 추가하고 configure 함수에 파라미터를 추가해서 설정해야 한다. 점점 서브 뷰들이 많아지면, configure 함수의 파라미터도 많아진다. 기본값이 있다면, swift의 default value를 이용해서 불필요한 설정을 줄일 수 있다. 하지만 파라미터가 많아지는, 즉 설정하는 부분이 점점 복잡해지고 더러워지는 문제를 피할 수 없다. 빌더 패턴이 이 문제를 해결할 수 있다.</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">let</span> <span class="nv">cardView</span> <span class="o">=</span> <span class="kt">CardViewBuilder</span><span class="p">()</span>
	<span class="o">.</span><span class="nf">withTitle</span><span class="p">(</span><span class="s">"New app update"</span><span class="p">)</span>
	<span class="o">.</span><span class="nf">withCornerRadius</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
	<span class="o">.</span><span class="nf">withBackgroundColor</span><span class="p">(</span><span class="o">.</span><span class="n">systemBlue</span><span class="p">)</span>
	<span class="o">.</span><span class="nf">build</span><span class="p">()</span>
</pre></table></code></div></div><p>빌더 패턴을 사용하면 복잡한 생성자를 줄일 수 있고, 위와 같이 프로퍼티에 접근해서 사용하는 부분을 private으로 하여 외부에서 접근 못 하게 할 수 있다. 빌더 패턴으로 자기 자신을 return 하여 configure 하는데, 이 부분은 chaining 하는 것 처럼 사용하여, 지금의 SwiftUI와 매우 비슷한 것을 볼 수 있다.</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kt">Text</span><span class="p">(</span><span class="s">"This is title"</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">foregroundColor</span><span class="p">(</span><span class="o">.</span><span class="n">red</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">font</span><span class="p">(</span><span class="o">.</span><span class="nf">system</span><span class="p">(</span><span class="nv">size</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="n">bold</span><span class="p">,</span> <span class="nv">design</span><span class="p">:</span> <span class="o">.</span><span class="k">default</span><span class="p">))</span>
</pre></table></code></div></div><h2 id="빌더-패턴-구조"><span class="mr-2">빌더 패턴 구조</span><a href="#빌더-패턴-구조" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>빌더 패턴에 대해서 더 자세히 보면, 구조는 Director, Builder, Product으로 구성되어 있다.</p><ul><li>Product - 생성하고 싶은 객체<li>Builder - 생성하고 싶은 Product를 생성해 주고 반환해 주는 구성 요소<li>Director - Builder를 이용해서 필요한 product를 받아서 처리하는 구성 요소. 사용하는 용도에 따라 Director를 이용할 수 있고, 직접 Builder를 접근해서 product 반환할 수 있다.</ul><p><a href="/assets/img/2021/09/23/image1.jpeg" class="popup img-link "><img data-src="/assets/img/2021/09/23/image1.jpeg" alt="빌더 패턴의 구조를 설명한 간단하게 그린 클래스 패턴" class="lazyload" data-proofer-ignore></a></p><h2 id="구현하기"><span class="mr-2">구현하기</span><a href="#구현하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>간단하게 Builder를 하나 만들어서 구현할 수 있다. 커스텀 해서 사용하는 뷰를 그리는 빌더를 만들 수 있고, 상품 혹은 자동차와 같이 객체를 만드는 빌더를 만들 수 있다. Director를 사용하여 빌드 패턴을 만들어보기로 하고, 피자를 만드는 빌드 패턴을 구현할 것이다.</p><blockquote><p>빌더 패턴에 맞게 구현한 것이기 때문에 클래스가 많고 불필요한 코드가 보일 수 있습니다. 사용하려는 프로젝트에 맞춰서 구현해서 만들어 사용하는 것을 권장합니다.</p></blockquote><h3 id="product"><span class="mr-2">Product</span><a href="#product" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>피자는 도우와 토핑, 사이즈를 구성하는 클래스를 만든다.</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre> <span class="kd">class</span> <span class="kt">Pizza</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">dough</span><span class="p">:</span> <span class="kt">Dough</span> <span class="o">=</span> <span class="o">.</span><span class="n">basic</span>
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">toppings</span> <span class="o">=</span> <span class="p">[</span><span class="kt">Topping</span><span class="p">]()</span>
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">size</span><span class="p">:</span> <span class="kt">Size</span> <span class="o">=</span> <span class="o">.</span><span class="n">regular</span>

    <span class="kd">func</span> <span class="nf">setDough</span><span class="p">(</span><span class="n">_</span> <span class="nv">dough</span><span class="p">:</span> <span class="kt">Dough</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">dough</span> <span class="o">=</span> <span class="n">dough</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">setToppings</span><span class="p">(</span><span class="n">_</span> <span class="nv">toppings</span><span class="p">:</span> <span class="p">[</span><span class="kt">Topping</span><span class="p">])</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">toppings</span> <span class="o">=</span> <span class="n">toppings</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">setSize</span><span class="p">(</span><span class="n">_</span> <span class="nv">size</span><span class="p">:</span> <span class="kt">Size</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">listPizzaInfo</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">toppingList</span> <span class="o">=</span> <span class="n">toppings</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">rawValue</span> <span class="p">}</span>
        <span class="k">return</span> <span class="s">"Your pizza's size is </span><span class="se">\(</span><span class="n">size</span><span class="o">.</span><span class="n">rawValue</span><span class="se">)</span><span class="s"> and the dough is </span><span class="se">\(</span><span class="n">dough</span><span class="o">.</span><span class="n">rawValue</span><span class="se">)</span><span class="s">, toppings are </span><span class="se">\(</span><span class="n">toppingList</span><span class="o">.</span><span class="nf">joined</span><span class="p">(</span><span class="nv">separator</span><span class="p">:</span> <span class="s">", "</span><span class="p">)</span><span class="se">)</span><span class="s">."</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><h3 id="builder"><span class="mr-2">Builder</span><a href="#builder" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>피자들은 공통적으로 사이즈에 맞게, 도우를 선택하고, 토핑을 뿌린 다음에 만들어진다. 프로토콜을 만들고, 빌더가 채택해서 구현하도록 만든다.</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre><td class="rouge-code"><pre><span class="kd">protocol</span> <span class="kt">Builder</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">reset</span><span class="p">()</span>
    <span class="kd">func</span> <span class="nf">setDough</span><span class="p">(</span><span class="n">_</span> <span class="nv">dough</span><span class="p">:</span> <span class="kt">Dough</span><span class="p">)</span>
    <span class="kd">func</span> <span class="nf">addToppings</span><span class="p">(</span><span class="n">_</span> <span class="nv">toppings</span><span class="p">:</span> <span class="p">[</span><span class="kt">Topping</span><span class="p">])</span>
    <span class="kd">func</span> <span class="nf">setSize</span><span class="p">(</span><span class="n">_</span> <span class="nv">size</span><span class="p">:</span> <span class="kt">Size</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">PizzaBuilder</span><span class="p">:</span> <span class="kt">Builder</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">pizza</span> <span class="o">=</span> <span class="kt">Pizza</span><span class="p">()</span>

    <span class="kd">func</span> <span class="nf">reset</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">pizza</span> <span class="o">=</span> <span class="kt">Pizza</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">setDough</span><span class="p">(</span><span class="n">_</span> <span class="nv">dough</span><span class="p">:</span> <span class="kt">Dough</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">pizza</span><span class="o">.</span><span class="nf">setDough</span><span class="p">(</span><span class="n">dough</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">addToppings</span><span class="p">(</span><span class="n">_</span> <span class="nv">toppings</span><span class="p">:</span> <span class="p">[</span><span class="kt">Topping</span><span class="p">])</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">pizza</span><span class="o">.</span><span class="nf">setToppings</span><span class="p">(</span><span class="n">toppings</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">setSize</span><span class="p">(</span><span class="n">_</span> <span class="nv">size</span><span class="p">:</span> <span class="kt">Size</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">pizza</span><span class="o">.</span><span class="nf">setSize</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">getPizza</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Pizza</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">result</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">pizza</span>
        <span class="nf">reset</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></table></code></div></div><p>피자를 구성하는 요소들을 설정하는 부분들이 주로 있으며, 여기서 getPizza 함수를 이용해서 만든 pizza 프로덕트를 반환한다. reset 함수가 있는 이유는 만들어진 프로덕트를 반환하고 새로운 프로덕트를 만들기 위해서 초기화하는 작업으로 보면 된다. 한 빌더에 많은 프로덕트를 만들 수 있기 때문에 새로운 프로덕트를 만들기 위한 준비로 보면 된다. 하지만 일회성으로 빌더 만들고 사용한다면, 굳이 reset 함수가 필요 없을 수 있다.</p><h3 id="director"><span class="mr-2">Director</span><a href="#director" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>피자 빌더를 이용해서 피자를 만들고 사용할 director 클래스는 꼭 필요한 요소는 아니다. View Controller 혹은 빌더를 사용하는 부분에서 직접 빌더를 만들어서 사용할 수 있기 때문이다. 여기서는 간단하게 치즈 피자와 페퍼로니 피자를 만드는 Director 클래스를 만들었다.</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="kt">Director</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">builder</span><span class="p">:</span> <span class="kt">Builder</span><span class="p">?</span>
    
    <span class="kd">func</span> <span class="nf">buildCheesePizza</span><span class="p">(</span><span class="n">_</span> <span class="nv">builder</span><span class="p">:</span> <span class="kt">Builder</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">builder</span><span class="o">.</span><span class="nf">reset</span><span class="p">()</span>
        <span class="n">builder</span><span class="o">.</span><span class="nf">setDough</span><span class="p">(</span><span class="o">.</span><span class="n">cheeseCrust</span><span class="p">)</span>
        <span class="n">builder</span><span class="o">.</span><span class="nf">addToppings</span><span class="p">([</span><span class="o">.</span><span class="n">extraCheese</span><span class="p">,</span> <span class="o">.</span><span class="n">mushrooms</span><span class="p">,</span> <span class="o">.</span><span class="n">sausage</span><span class="p">,</span> <span class="o">.</span><span class="n">greenPeppers</span><span class="p">,</span> <span class="o">.</span><span class="n">blackOlives</span><span class="p">])</span>
        <span class="n">builder</span><span class="o">.</span><span class="nf">setSize</span><span class="p">(</span><span class="o">.</span><span class="n">regular</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">buildPepperoniPizza</span><span class="p">(</span><span class="n">_</span> <span class="nv">builder</span><span class="p">:</span> <span class="kt">Builder</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">builder</span><span class="o">.</span><span class="nf">reset</span><span class="p">()</span>
        <span class="n">builder</span><span class="o">.</span><span class="nf">setDough</span><span class="p">(</span><span class="o">.</span><span class="n">basic</span><span class="p">)</span>
        <span class="n">builder</span><span class="o">.</span><span class="nf">addToppings</span><span class="p">([</span><span class="o">.</span><span class="n">pepperoni</span><span class="p">,</span> <span class="o">.</span><span class="n">mushrooms</span><span class="p">,</span> <span class="o">.</span><span class="n">sausage</span><span class="p">,</span> <span class="o">.</span><span class="n">greenPeppers</span><span class="p">,</span> <span class="o">.</span><span class="n">blackOlives</span><span class="p">])</span>
        <span class="n">builder</span><span class="o">.</span><span class="nf">setSize</span><span class="p">(</span><span class="o">.</span><span class="n">regular</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><h3 id="client"><span class="mr-2">Client</span><a href="#client" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>실제로 프로덕트인 피자가 필요한 클라이언트 부분이 있다. Director를 통해서 피자를 얻어서 사용한다. Director와 마찬가지로 꼭 필요한 구성 요소는 아니다. 직접 빌더를 만들어서 사용할 수 있기 때문이다.</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="kt">Client</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">makeCheesePizza</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">director</span> <span class="o">=</span> <span class="kt">Director</span><span class="p">()</span>
        <span class="k">let</span> <span class="nv">pizzaBuilder</span> <span class="o">=</span> <span class="kt">PizzaBuilder</span><span class="p">()</span>
        
        <span class="n">director</span><span class="o">.</span><span class="nf">buildCheesePizza</span><span class="p">(</span><span class="n">pizzaBuilder</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">cheesePizza</span> <span class="o">=</span> <span class="n">pizzaBuilder</span><span class="o">.</span><span class="nf">getPizza</span><span class="p">()</span>
        
        <span class="nf">print</span><span class="p">(</span><span class="n">cheesePizza</span><span class="o">.</span><span class="nf">listPizzaInfo</span><span class="p">())</span>
    <span class="p">}</span>
    
    <span class="kd">func</span> <span class="nf">makePepperoniPizza</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">director</span> <span class="o">=</span> <span class="kt">Director</span><span class="p">()</span>
        <span class="k">let</span> <span class="nv">pizzaBuilder</span> <span class="o">=</span> <span class="kt">PizzaBuilder</span><span class="p">()</span>
        
        <span class="n">director</span><span class="o">.</span><span class="nf">buildPepperoniPizza</span><span class="p">(</span><span class="n">pizzaBuilder</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">pepperoniPizza</span> <span class="o">=</span> <span class="n">pizzaBuilder</span><span class="o">.</span><span class="nf">getPizza</span><span class="p">()</span>
        
        <span class="nf">print</span><span class="p">(</span><span class="n">pepperoniPizza</span><span class="o">.</span><span class="nf">listPizzaInfo</span><span class="p">())</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">client</span> <span class="o">=</span> <span class="kt">Client</span><span class="p">()</span>
<span class="n">client</span><span class="o">.</span><span class="nf">makeCheesePizza</span><span class="p">()</span>
<span class="nf">print</span><span class="p">()</span>
<span class="n">client</span><span class="o">.</span><span class="nf">makePepperoniPizza</span><span class="p">()</span>

<span class="c1">// Prints</span>
<span class="c1">// "Your pizza's size is regular and the dough is cheeseCrust, toppings are extraCheese, mushrooms, sausage, greenPeppers, blackOlives."</span>
<span class="c1">// "Your pizza's size is large and the dough is basic, toppings are pepperoni, mushrooms, onions, blackOlives."</span>
</pre></table></code></div></div><p>코드가 생각보다 굉장히 길고 클래스가 많아진 것을 볼 수 있다. 하지만 실제로 client에서 호출해서 사용하는 부분을 보면 단순하다고 볼 수 있다. 구현하는 부분은 빌더가 하고, 클라이언트는 빌더가 만든 피자를 받아서 사용하면 된다. 완성된 전체적인 코드는 <a href="https://gist.github.com/imjhk03/188cdf0ac899cf767b2ec71bf7ec3399">gist</a>에서 확인할 수 있다.</p><p>작업하는 프로젝트 성격에 맞춰서 조금 더 가볍게 구현할 수 있다. 위에서 예를 든 카드 뷰처럼 직접 빌더를 만들고 설정하는 부분을 클라이언트 단(view controlller일 수 있고, 다른 부분일 수 있는)에서 직접 호출해서 써도 된다. 맨 처음 만든 예시처럼 pizza builder를 만든다면, 아래와 같을 수 있다.</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="k">let</span> <span class="nv">pizza</span> <span class="o">=</span> <span class="kt">PizzaBuilder</span><span class="p">()</span>
	<span class="o">.</span><span class="nf">withSize</span><span class="p">(</span><span class="o">.</span><span class="n">regular</span><span class="p">)</span>
	<span class="o">.</span><span class="nf">withToppings</span><span class="p">([</span><span class="o">.</span><span class="n">extraCheese</span><span class="p">,</span> <span class="o">.</span><span class="n">mushrooms</span><span class="p">,</span> <span class="o">.</span><span class="n">sausage</span><span class="p">,</span> <span class="o">.</span><span class="n">greenPeppers</span><span class="p">,</span> <span class="o">.</span><span class="n">blackOlives</span><span class="p">])</span>
	<span class="o">.</span><span class="nf">withDough</span><span class="p">(</span><span class="o">.</span><span class="n">cheeseCrust</span><span class="p">)</span>
	<span class="o">.</span><span class="nf">build</span><span class="p">()</span>

<span class="nf">print</span><span class="p">(</span><span class="n">pizza</span><span class="o">.</span><span class="nf">listPizzaInfo</span><span class="p">())</span>
<span class="c1">// Prints "Your pizza's size is regular and the dough is cheeseCrust, toppings are extraCheese, mushrooms, sausage, greenPeppers, blackOlives."</span>
</pre></table></code></div></div><h2 id="uistackview와-사용하기"><span class="mr-2">UIStackView와 사용하기</span><a href="#uistackview와-사용하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>빌더 패턴과 잘 어울려 사용할 수 있는 컴포넌트는 개인적으로 <code class="language-plaintext highlighter-rouge">UIStackView</code>라고 생각한다. 차례대로 필요한 부분들을 만드는데, 서브 뷰들을 하나씩 만들어 <code class="language-plaintext highlighter-rouge">addArrangedSubview(_:)</code>를 이용해서 추가할 수 있다. 또한, 순서대로 만들고 싶다면, 빌더 패턴의 빌드하는 부분의 순서를 변경해서 <code class="language-plaintext highlighter-rouge">UIStackView</code>에 순서대로 추가할 수 있다.</p><p>커스텀 뷰가 프로덕트에 해당하기 때문에, 해당 프로덕트에 stack view를 만들어서 서브 뷰들을 생성해서 stack view에 추가하는 식으로 구현할 수 있다.</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="kt">CustomView</span><span class="p">:</span> <span class="kt">UIView</span> <span class="p">{</span>

    <span class="kd">private</span> <span class="k">let</span> <span class="nv">containerView</span> <span class="o">=</span> <span class="kt">CustomContainerView</span><span class="p">()</span>

    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">configureContainerView</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// configure basic settings</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">addTitle</span><span class="p">(</span><span class="n">_</span> <span class="nv">title</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">spacing</span><span class="p">:</span> <span class="kt">CGFloat</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">label</span> <span class="o">=</span> <span class="kt">UILabel</span><span class="p">()</span>
        <span class="o">...</span>
        <span class="n">containerView</span><span class="o">.</span><span class="n">stackView</span><span class="o">.</span><span class="nf">addArrangedSubview</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">withSubTitle</span><span class="p">(</span><span class="n">_</span> <span class="nv">subTitle</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">label</span> <span class="o">=</span> <span class="kt">UILabel</span><span class="p">()</span>
        <span class="o">...</span>
        <span class="n">containerView</span><span class="o">.</span><span class="n">stackView</span><span class="o">.</span><span class="nf">addArrangedSubview</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">addImage</span><span class="p">(</span><span class="n">_</span> <span class="nv">image</span><span class="p">:</span> <span class="kt">UIImage</span><span class="p">,</span> <span class="nv">size</span><span class="p">:</span> <span class="kt">CGSize</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">imageView</span> <span class="o">=</span> <span class="kt">UIImageView</span><span class="p">(</span><span class="nv">image</span><span class="p">:</span> <span class="n">image</span><span class="p">)</span>
        <span class="o">...</span>
        <span class="n">containerView</span><span class="o">.</span><span class="n">stackView</span><span class="o">.</span><span class="nf">addArrangedSubview</span><span class="p">(</span><span class="n">imageView</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">addButtons</span><span class="p">(</span><span class="n">_</span> <span class="nv">buttons</span><span class="p">:</span> <span class="p">[</span><span class="kt">CustomButton</span><span class="p">])</span> <span class="p">{</span>
        <span class="n">containerView</span><span class="o">.</span><span class="nf">addButtonStackView</span><span class="p">()</span>
        <span class="n">buttons</span><span class="o">.</span><span class="n">forEach</span> <span class="p">{</span>
            <span class="n">containerView</span><span class="o">.</span><span class="n">buttonStackView</span><span class="o">.</span><span class="nf">addArrangedSubview</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></table></code></div></div><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="k">let</span> <span class="nv">customView1</span> <span class="o">=</span> <span class="kt">CustomViewBuilder</span><span class="p">()</span>
	<span class="o">.</span><span class="nf">withTitle</span><span class="p">(</span><span class="s">"Notice"</span><span class="p">)</span>
	<span class="o">.</span><span class="nf">withSubTitle</span><span class="p">(</span><span class="s">"Are you sure to delete this list?"</span><span class="p">)</span>
	<span class="o">.</span><span class="nf">withButtons</span><span class="p">([</span><span class="o">.</span><span class="n">cancelButton</span><span class="p">,</span> <span class="o">.</span><span class="n">okButton</span><span class="p">])</span>
	<span class="o">.</span><span class="nf">build</span><span class="p">()</span>

<span class="k">let</span> <span class="nv">customView2</span> <span class="o">=</span> <span class="kt">CustomViewBuilder</span><span class="p">()</span>
	<span class="o">.</span><span class="nf">withImage</span><span class="p">(</span><span class="n">defaultImage</span><span class="p">)</span>
	<span class="o">.</span><span class="nf">withButtons</span><span class="p">([</span><span class="o">.</span><span class="n">cancelButton</span><span class="p">,</span> <span class="o">.</span><span class="n">okButton</span><span class="p">])</span>
	<span class="o">.</span><span class="nf">withTitle</span><span class="p">(</span><span class="s">"Notice"</span><span class="p">)</span>
	<span class="o">.</span><span class="nf">withSubTitle</span><span class="p">(</span><span class="s">"Are you sure to delete this list?"</span><span class="p">)</span>
	<span class="o">.</span><span class="nf">build</span><span class="p">()</span>
</pre></table></code></div></div><p>순서가 영향이 끼칠 수 있는 뷰를 그릴 때, 빌더 패턴을 이용하고 <code class="language-plaintext highlighter-rouge">UIStackView</code>를 이용한다면 쉽게 구현해서 사용하는 것을 볼 수 있다.</p><h2 id="주의점"><span class="mr-2">주의점</span><a href="#주의점" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>빌더 패턴은 수많은 구성 요소를 설정해야 하는 객체를 생성할 때 사용하면 좋다. 불필요하게 코드가 늘어날 수 있기 때문에, 실제로 객체를 만들 때 구성 요소가 많은지, 생성자 하나로도 충분한지 고려해서 빌더 패턴을 사용할지 결정해야 한다. 아니면, 위에서 예시로 든 stack view를 이용해서 화면을 그리는 부분이 필요하다면 사용할 수 있다. 물론 프로젝트의 크기에 따라 적용할지는 고려해야 한다.</p><h2 id="결론"><span class="mr-2">결론</span><a href="#결론" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>빌더 패턴은 복잡한 객체를 생성할 때 차례대로 만들어 사용할 수 있을 때 효과적이다. 스위프트에서는 빌더 패턴이 흔하지 않는 패턴이지만, 필요하다면 충분히 빌더 패턴을 만들어서 적용할 수 있는 것을 볼 수 있다. 작업하는 프로젝트에 빌더 패턴으로 만들어 사용할 수 있는 부분이 있다면 적용해 보는 것을 추천드립니다.</p><p><br /></p><p>gist: <a href="https://gist.github.com/imjhk03/188cdf0ac899cf767b2ec71bf7ec3399">PizzaBuilder.swift</a></p><p>참고: <a href="https://refactoring.guru/design-patterns/builder">Builder</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/architecture/" class="post-tag no-text-decoration" >architecture</a> <a href="/tags/design-pattern/" class="post-tag no-text-decoration" >design pattern</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=스위프트에서 빌더 패턴 구현해보기 - Joohee Kim's Blog&url=https%3A%2F%2Fimjhk03.github.io%2Fposts%2Fcreate-builder-pattern-in-swift%2F&via=_jooheekim_" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">최근 업데이트</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/macbook-setup/">나의 새로운 Mac 설정 목록 (Setup my personal Mac)</a><li><a href="/posts/multiple-pages-xcode-playground/">Multiple Pages Xcode Playground</a><li><a href="/posts/not-using-multiple-monitors/">듀얼 모니터 보다 싱글 모니터</a><li><a href="/posts/solve-ios15-button-title-showing/">iOS 15에서 UIButton의 title이 Button으로 나타나는 현상 해결 방법</a><li><a href="/posts/ios14-how-to-send-email-eng/">How to send emails from iOS 14</a></ul></div><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ios/">iOS</a> <a class="post-tag" href="/tags/swift/">swift</a> <a class="post-tag" href="/tags/xcode/">xcode</a> <a class="post-tag" href="/tags/blog/">blog</a> <a class="post-tag" href="/tags/cocoapods/">cocoaPods</a> <a class="post-tag" href="/tags/strings/">strings</a> <a class="post-tag" href="/tags/restrospect/">restrospect</a> <a class="post-tag" href="/tags/swift-playground/">swift playground</a> <a class="post-tag" href="/tags/swiftui/">swiftui</a> <a class="post-tag" href="/tags/ui-development/">ui development</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">바로가기</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>관련된 글</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/multiple-pages-xcode-playground/"><div class="card-body"> <em class="small" data-ts="1673222400" data-df="YYYY/MM/DD" > 2023/01/09 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Multiple Pages Xcode Playground</h3><div class="text-muted small"><p> 간단한 스위프트 코드를 작성할 때 Xcode Playground를 사용한다. Xcode Playground 파일을 생성하면 하나의 플레이그라운드에서 코드를 작성하게 되는데, 여러 플레이그라운드 파일들을 묶고 싶은 경우가 있다. 예를 들어, 하나의 주제를 가지고 다양한 코드 방법을 파일별로 정리하거나 문법 공부할 때 문법별로 정리하는 경우가 있다. 이럴...</p></div></div></a></div><div class="card"> <a href="/posts/2022-the-second-half-retrospect/"><div class="card-body"> <em class="small" data-ts="1672444800" data-df="YYYY/MM/DD" > 2022/12/31 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>2022 하반기 회고</h3><div class="text-muted small"><p> 2022 상반기 회고 벌써 2023년이 코앞이다. 하반기는 상반기에 비해서 시간이 빨리 지나간 것 같다. 상반기에는 일 위주로 작성했다면 이번 하반기에는 개인적인 일과 함께 회고를 작성했다. 운동과 여행 올해 2월부터 클라이밍 운동을 시작했는데 처음에는 많이 힘들었지만 재밌어서 꾸준히 하고 있다. 결국에는 클라이밍화랑 운동복을 따로 사서 운동하러...</p></div></div></a></div><div class="card"> <a href="/posts/lets-swift-2022/"><div class="card-body"> <em class="small" data-ts="1670284800" data-df="YYYY/MM/DD" > 2022/12/06 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>레츠스위프트 2022 참석 후기</h3><div class="text-muted small"><p> 2019년 이후로 대면 컨퍼런스 참여하는 것은 이번 Let’s Swift 행사가 처음이었다. 코로나로 인해 대면으로 컨퍼런스 참여하는 게 힘들었는데, 올해부터는 조금씩 소수 인원들만 초대해서 오프라인 컨퍼런스들이 조금씩 생기기 시작했다. 다행히 티켓팅 성공해서 이번 레츠스위프트 행사에 참여할 수 있었다. 그전에 다녔었던 오프라인 컨퍼런스는 나 혼자 다...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/use-live-view-in-swift-playground/" class="btn btn-outline-primary" prompt="이전 글"><p>Use Live View in Swift Playground</p></a> <a href="/posts/korean-string-url-encoding/" class="btn btn-outline-primary" prompt="다음 글"><p>한글 들어간 url string을 인코딩하는 방법</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "imjhk03/imjhk03.github.io", "data-repo-id": "MDEwOlJlcG9zaXRvcnkzNDI2MzQ3MDQ=", "data-category": "Comments", "data-category-id": "DIC_kwDOFGww0M4CTtIF", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ios/">iOS</a> <a class="post-tag" href="/tags/swift/">swift</a> <a class="post-tag" href="/tags/xcode/">xcode</a> <a class="post-tag" href="/tags/blog/">blog</a> <a class="post-tag" href="/tags/cocoapods/">cocoaPods</a> <a class="post-tag" href="/tags/strings/">strings</a> <a class="post-tag" href="/tags/restrospect/">restrospect</a> <a class="post-tag" href="/tags/swift-playground/">swift playground</a> <a class="post-tag" href="/tags/swiftui/">swiftui</a> <a class="post-tag" href="/tags/ui-development/">ui development</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/username">Joohee Kim</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다.">일부 권리 보유</span></p></div><div class="footer-right"><p class="mb-0">Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p><button type="button" class="btn btn-primary" aria-label="Update"> 업데이트 </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-155758599-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-155758599-1'); }); </script>
