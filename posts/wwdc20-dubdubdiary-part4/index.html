<!DOCTYPE html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="WWDC20 Dub Dub Diary, Part 4 - Swift type inference, writing tests to fail" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="For the fourth day of WWDC20, among great sessions there were two most interesting sessions about Swift language and testing. This article will talk about these two amazing sessions." /><meta property="og:description" content="For the fourth day of WWDC20, among great sessions there were two most interesting sessions about Swift language and testing. This article will talk about these two amazing sessions." /><link rel="canonical" href="https://imjhk03.github.io/posts/wwdc20-dubdubdiary-part4/" /><meta property="og:url" content="https://imjhk03.github.io/posts/wwdc20-dubdubdiary-part4/" /><meta property="og:site_name" content="Joohee Kim’s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-08-10T00:00:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="WWDC20 Dub Dub Diary, Part 4 - Swift type inference, writing tests to fail" /><meta name="twitter:site" content="@_jooheekim_" /><meta name="google-site-verification" content="google26638d8b728847ea.html" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-08-10T00:00:00+00:00","datePublished":"2020-08-10T00:00:00+00:00","description":"For the fourth day of WWDC20, among great sessions there were two most interesting sessions about Swift language and testing. This article will talk about these two amazing sessions.","headline":"WWDC20 Dub Dub Diary, Part 4 - Swift type inference, writing tests to fail","mainEntityOfPage":{"@type":"WebPage","@id":"https://imjhk03.github.io/posts/wwdc20-dubdubdiary-part4/"},"url":"https://imjhk03.github.io/posts/wwdc20-dubdubdiary-part4/"}</script><title>WWDC20 Dub Dub Diary, Part 4 - Swift type inference, writing tests to fail | Joohee Kim's Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Joohee Kim's Blog"><meta name="application-name" content="Joohee Kim's Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/avatar.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">Joohee Kim's Blog</a></div><div class="site-subtitle font-italic">Create something, craft well</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>홈</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>태그</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/glossary/" class="nav-link"> <i class="fa-fw fas fa-book-open ml-xl-3 mr-xl-3 unloaded"></i> <span>GLOSSARY</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>정보</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/imjhk03" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/_jooheekim_" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['imjhk03','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> 홈 </a> </span> <span>WWDC20 Dub Dub Diary, Part 4 - Swift type inference, writing tests to fail</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>WWDC20 Dub Dub Diary, Part 4 - Swift type inference, writing tests to fail</h1><div class="post-meta text-muted"> <span> 게시 <em class="" data-ts="1597017600" data-df="YYYY/MM/DD" data-toggle="tooltip" data-placement="bottom"> 2020/08/10 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/username">Joohee Kim</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="768 단어"> <em>4 분</em>읽는 시간</span></div></div></div><div class="post-content"><p>For the fourth day of WWDC20, among great sessions there were two most interesting sessions about Swift language and testing. This article will talk about these two amazing sessions.</p><h2 id="embrace-swift-type-inference"><span class="mr-2">Embrace Swift type inference</span><a href="#embrace-swift-type-inference" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="what-is-type-inference"><span class="mr-2">What is type inference?</span><a href="#what-is-type-inference" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>In Swift, constant and variable needs to be specified a type at compile time. But, the compiler can figure out the type. This is able because Swift supports type inference. We can write clean, concise code with the help of Swift using type inference.</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c1">// Three types of declaration</span>
<span class="k">let</span> <span class="nv">x</span> <span class="o">=</span> <span class="s">""</span>    <span class="c1">// compiler can able to figure out the type</span>
<span class="k">let</span> <span class="nv">x</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">""</span>
<span class="k">let</span> <span class="nv">x</span> <span class="o">=</span> <span class="s">""</span> <span class="k">as</span> <span class="kt">String</span>

</pre></table></code></div></div><p>This session explains how the compiler figures out the type with our code, like solving the puzzle.</p><h3 id="leverage-type-inference-at-the-call-site"><span class="mr-2">Leverage type inference at the call-site</span><a href="#leverage-type-inference-at-the-call-site" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>To explain how the compiler figures out, below function was showed as an example. It was used on a SwiftUI app, to filter data.</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">FilteredList</span><span class="o">&lt;</span><span class="kt">Element</span><span class="p">,</span> <span class="kt">FilterKey</span><span class="p">,</span> <span class="kt">RowContent</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="n">_</span> <span class="nv">data</span><span class="p">:</span> <span class="p">[</span><span class="kt">Element</span><span class="p">],</span>
                <span class="n">filterBy</span> <span class="nv">key</span><span class="p">:</span> <span class="kt">KeyPath</span><span class="o">&lt;</span><span class="kt">Element</span><span class="p">,</span> <span class="kt">FilterKey</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="nv">isIncluded</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">FilterKey</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span><span class="p">,</span>
                <span class="kd">@ViewBuilder</span> <span class="nv">rowContent</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">RowContent</span><span class="p">)</span>
<span class="p">}</span>
</pre></table></code></div></div><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kt">FilteredList</span><span class="p">(</span>
    <span class="n">smoothies</span><span class="p">,</span>
    <span class="nv">filterBy</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
    <span class="nv">isIncluded</span><span class="p">:</span> <span class="p">{</span> <span class="n">title</span> <span class="k">in</span> <span class="n">title</span><span class="o">.</span><span class="nf">hasSubstring</span><span class="p">(</span><span class="n">searchPhrase</span><span class="p">)</span> <span class="p">}</span>
<span class="p">)</span> <span class="p">{</span> <span class="n">smoothie</span> <span class="k">in</span>
    <span class="kt">SmoothieRowView</span><span class="p">(</span><span class="nv">smoothie</span><span class="p">:</span> <span class="n">smoothie</span><span class="p">)</span>
<span class="p">}</span>
</pre></table></code></div></div><p>Type inference helps us write source code faster, not spelling all the types in our code. Below is the code side by side with the initializer.</p><p><a href="/assets/img/2020/08/10/image1.png" class="popup img-link "><img data-src="/assets/img/2020/08/10/image1.png" alt="Swift Type Inference" class="lazyload" data-proofer-ignore></a></p><p>Below code is how the compiler use type inference, using clues from the source code.</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kt">FilteredList</span><span class="o">&lt;</span><span class="kt">Smoothie</span><span class="p">,</span> <span class="kt">String</span><span class="p">,</span> <span class="kt">SmoothieRowView</span><span class="o">&gt;</span><span class="p">(</span>
    <span class="n">smoothies</span> <span class="k">as</span> <span class="p">[</span><span class="kt">Smoothie</span><span class="p">],</span>
    <span class="nv">filterBy</span><span class="p">:</span> <span class="p">\</span><span class="kt">Smoothie</span><span class="o">.</span><span class="n">title</span> <span class="k">as</span> <span class="kt">KeyPath</span><span class="o">&lt;</span><span class="kt">Smoothie</span><span class="p">,</span> <span class="kt">String</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="nv">isIncluded</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="k">in</span> <span class="n">title</span><span class="o">.</span><span class="nf">hasSubstring</span><span class="p">(</span><span class="n">searchPhrase</span><span class="p">)</span> <span class="p">}</span>
<span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nv">smoothie</span><span class="p">:</span> <span class="kt">Smoothie</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">SmoothieRowView</span> <span class="k">in</span>
    <span class="kt">SmoothieRowView</span><span class="p">(</span><span class="nv">smoothie</span><span class="p">:</span> <span class="n">smoothie</span><span class="p">)</span>
<span class="p">}</span>
</pre></table></code></div></div><p>I just showed small parts from the session, and I recommend seeing the session. It also covers how the compiler errors, and how to track and resolve it. For in-depth, learn more about Swift Generics. After watching this session, I wanted to try to create something like the example. Wish I could make it and write an article in-depth of type inference.</p><p><a href="https://developer.apple.com/videos/play/wwdc2020/10165/">Embrace Swift type inference - WWDC 2020 - Videos - Apple Developer</a></p><p><br /></p><h2 id="write-tests-to-fail"><span class="mr-2">Write Tests to Fail</span><a href="#write-tests-to-fail" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Besides of the session title, this session was great demonstrating a walkthrough to how to make tests for the app. Currently, I’ve been trying to write a test code for our app, so this session really help me from scratch.</p><p>While getting the tests to green is important, writing the test to fail is also great for catching bugs. This is why we need to write tests to fail.</p><h3 id="set-up"><span class="mr-2">Set Up</span><a href="#set-up" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Use <code class="language-plaintext highlighter-rouge">func setUpWithError() throws</code> to take advantage of error management. And using <code class="language-plaintext highlighter-rouge">launchArguments</code> or <code class="language-plaintext highlighter-rouge">launchEnvironment</code> to set state of the app.</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="kt">RecipesTests</span><span class="p">:</span> <span class="kt">XCTestCase</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">app</span> <span class="o">=</span> <span class="kt">FrutaApp</span><span class="p">()</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">setUpWithError</span><span class="p">()</span> <span class="k">throws</span> <span class="p">{</span>
        <span class="n">continueAfterFailure</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="n">app</span><span class="o">.</span><span class="n">launchArguments</span><span class="o">.</span><span class="nf">appen</span><span class="p">(</span><span class="s">"-recepies-tests"</span><span class="p">)</span>
        <span class="n">app</span><span class="o">.</span><span class="nf">launch</span><span class="p">()</span>
<span class="p">}</span>
</pre></table></code></div></div><ul><li>Use <code class="language-plaintext highlighter-rouge">func setUpWithError() throws</code><li>Perform common class setup tasks<li>Leverage <code class="language-plaintext highlighter-rouge">launchArguments</code> or <code class="language-plaintext highlighter-rouge">launchEnvironment</code> to set state<li>Adopt product changes to focus testing</ul><h3 id="test-actions"><span class="mr-2">Test: actions</span><a href="#test-actions" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Using enum cases for all String value is convenient for future updates. String values can change, so capturing it with enum will be easy to update and reduce misspelling strings. Factor common code into helper functions is good for reducing repetitive codes.</p><ul><li>Design tests for a specific goal<li>Use enums<li>Factor common code into helper functions<li>Model UI hierarchy in testing code<li>Consider using a framework or Swift package to share testing code</ul><h3 id="test-assertions"><span class="mr-2">Test: assertions</span><a href="#test-assertions" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>For assertion messages, make use of optional descriptions to give more context for failure messages. And for testing asynchronous logic, use <code class="language-plaintext highlighter-rouge">waitForExistence()</code> then <code class="language-plaintext highlighter-rouge">sleep()</code>.</p><p><a href="/assets/img/2020/08/10/image2.png" class="popup img-link "><img data-src="/assets/img/2020/08/10/image2.png" alt="Use assertion message" class="lazyload" data-proofer-ignore></a></p><p>To unwrap optionals, don’t force unwrap to cause crash. Instead, follow below code.</p><div class="language-swift highlighter-rouge"><div class="code-header"> <span data-label-text="Swift"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">if</span> <span class="k">let</span> <span class="nv">favs</span> <span class="o">=</span> <span class="n">favorites</span> <span class="p">{</span> <span class="p">}</span>
<span class="k">guard</span> <span class="k">let</span> <span class="nv">favs</span> <span class="o">=</span> <span class="n">favorites</span> <span class="k">else</span> <span class="p">{</span> <span class="cm">/* throw an error */</span> <span class="p">}</span>
<span class="k">let</span> <span class="nv">favs</span> <span class="o">=</span> <span class="n">favorites</span> <span class="p">??</span> <span class="p">[]</span>
<span class="k">let</span> <span class="nv">favs</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">XCTUnwrap</span><span class="p">(</span><span class="n">favorites</span><span class="p">,</span> <span class="s">"favorites is nil, so there is nothing to count"</span><span class="p">)</span>
</pre></table></code></div></div><ul><li>Add assertion messages<li>Use relevant <code class="language-plaintext highlighter-rouge">XCTAssert*</code> function<li>Unwrap optionals<li>Use <code class="language-plaintext highlighter-rouge">waitForExistence()</code> for asynchronous events<li>Throw errors from shared code<li>Use <code class="language-plaintext highlighter-rouge">XCTContext.runActivity()</code> and attachments<li>Consider <code class="language-plaintext highlighter-rouge">XCTSkip()</code></ul><h3 id="tear-down"><span class="mr-2">Tear down</span><a href="#tear-down" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Use <code class="language-plaintext highlighter-rouge">func tearDownWithError() throws</code> to take advantage of the new error management.</p><ul><li>Use <code class="language-plaintext highlighter-rouge">func tearDownWithError() throws</code><li>Collect additional logging<li>Reset the environment</ul><p><a href="https://developer.apple.com/videos/play/wwdc2020/10091/">Write tests to fail - WWDC 2020 - Videos - Apple Developer</a></p><h2 id="wrap-up"><span class="mr-2">Wrap up</span><a href="#wrap-up" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Watching these two sessions gave me a refresh of Swift Language and Testing, away from SwiftUI spotlight. I recommend these sessions, it’s not very complicated subjects, and really made my mind blown.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/wwdc/'>WWDC</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=WWDC20 Dub Dub Diary, Part 4 - Swift type inference, writing tests to fail - Joohee Kim's Blog&url=https%3A%2F%2Fimjhk03.github.io%2Fposts%2Fwwdc20-dubdubdiary-part4%2F&via=_jooheekim_" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">최근 업데이트</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/macbook-setup/">나의 새로운 Mac 설정 목록 (Setup my personal Mac)</a><li><a href="/posts/multiple-pages-xcode-playground/">Multiple Pages Xcode Playground</a><li><a href="/posts/not-using-multiple-monitors/">듀얼 모니터 보다 싱글 모니터</a><li><a href="/posts/solve-ios15-button-title-showing/">iOS 15에서 UIButton의 title이 Button으로 나타나는 현상 해결 방법</a><li><a href="/posts/ios14-how-to-send-email-eng/">How to send emails from iOS 14</a></ul></div><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ios/">iOS</a> <a class="post-tag" href="/tags/swift/">swift</a> <a class="post-tag" href="/tags/xcode/">xcode</a> <a class="post-tag" href="/tags/blog/">blog</a> <a class="post-tag" href="/tags/cocoapods/">cocoaPods</a> <a class="post-tag" href="/tags/strings/">strings</a> <a class="post-tag" href="/tags/restrospect/">restrospect</a> <a class="post-tag" href="/tags/swift-playground/">swift playground</a> <a class="post-tag" href="/tags/swiftui/">swiftui</a> <a class="post-tag" href="/tags/ui-development/">ui development</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">바로가기</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>관련된 글</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/wwdc20-dubdubdiary-part1/"><div class="card-body"> <em class="small" data-ts="1595203200" data-df="YYYY/MM/DD" > 2020/07/20 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>WWDC20 Dub Dub Diary, Part 1</h3><div class="text-muted small"><p> From June 23 to June 26, WWDC20 was hosted online. I was lucky to win the last WWDC18 and WWDC19 event, and I went to America alone and enjoyed it. So I couldn’t feel the heat, the atmosphere and t...</p></div></div></a></div><div class="card"> <a href="/posts/wwdc20-dubdubdiary-part2/"><div class="card-body"> <em class="small" data-ts="1595808000" data-df="YYYY/MM/DD" > 2020/07/27 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>WWDC20 Dub Dub Diary, Part 2 - Widget, App clips, and SwiftUI</h3><div class="text-muted small"><p> On the second day of WWDC20, sessions were uploaded all at once and could be viewed immediately without waiting. Before this year, there were sessions by time and place, so waiting and listening a ...</p></div></div></a></div><div class="card"> <a href="/posts/wwdc20-dubdubdiary-part3/"><div class="card-body"> <em class="small" data-ts="1596672000" data-df="YYYY/MM/DD" > 2020/08/06 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>WWDC20 Dub Dub Diary, Part 3 - Code-along, New Components, and build for iPad</h3><div class="text-muted small"><p> Many sessions were also posted on the third day of WWDC20. In particular, sessions focused on game centers were concentrated, but they were not my interests because I wasn’t developing game apps. I...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/wwdc20-dubdubdiary-part3/" class="btn btn-outline-primary" prompt="이전 글"><p>WWDC20 Dub Dub Diary, Part 3 - Code-along, New Components, and build for iPad</p></a> <a href="/posts/wwdc20-dubdubdiary-part5/" class="btn btn-outline-primary" prompt="다음 글"><p>WWDC20 Dub Dub Diary, Part 5 - Data Essentials in SwiftUI</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "imjhk03/imjhk03.github.io", "data-repo-id": "MDEwOlJlcG9zaXRvcnkzNDI2MzQ3MDQ=", "data-category": "Comments", "data-category-id": "DIC_kwDOFGww0M4CTtIF", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ios/">iOS</a> <a class="post-tag" href="/tags/swift/">swift</a> <a class="post-tag" href="/tags/xcode/">xcode</a> <a class="post-tag" href="/tags/blog/">blog</a> <a class="post-tag" href="/tags/cocoapods/">cocoaPods</a> <a class="post-tag" href="/tags/strings/">strings</a> <a class="post-tag" href="/tags/restrospect/">restrospect</a> <a class="post-tag" href="/tags/swift-playground/">swift playground</a> <a class="post-tag" href="/tags/swiftui/">swiftui</a> <a class="post-tag" href="/tags/ui-development/">ui development</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/username">Joohee Kim</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다.">일부 권리 보유</span></p></div><div class="footer-right"><p class="mb-0">Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p><button type="button" class="btn btn-primary" aria-label="Update"> 업데이트 </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-155758599-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-155758599-1'); }); </script>
